<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="description" content="Responsive Admin &amp; Dashboard Template based on Bootstrap 5">
	<meta name="author" content="AdminKit">
	<meta name="keywords" content="adminkit, bootstrap, bootstrap 5, admin, dashboard, template, responsive, css, sass, html, theme, front-end, ui kit, web">

	<link rel="preconnect" href="https://fonts.gstatic.com">
	<link rel="shortcut icon" href="assets/icon-48x48.png" />

	<title>GovData Monitor</title>

	<link href="assets/app.css" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&display=swap" rel="stylesheet">

	<script src="https://unpkg.com/maplibre-gl@2.4.0/dist/maplibre-gl.js"></script>
	<link href="https://unpkg.com/maplibre-gl@2.4.0/dist/maplibre-gl.css" rel="stylesheet" />
</head>

<body>
	<div class="wrapper">
		<div class="main">
			<nav class="navbar navbar-expand navbar-light navbar-bg d-block border-bottom border-1 border-secondary">
				<div class="navbar-collapse collapse">
					<ul class="navbar-nav">
						<li class="nav-item pt-1 pe-2 fs-4 border-end border-1 border-secondary border-opacity-50 d-none d-sm-block" style="margin-bottom:-2.25rem;line-height:4.5rem;">
							GovData Monitor
						</li>
						<li class="nav-item border-bottom border-4 border-info">
							<a class="nav-link" href="index.html">
								<i class="align-middle" data-feather="sliders"></i> <span class="align-middle">Dashboard</span>
							</a>
						</li>
						<li class="nav-item">
							<a class="nav-link" href="meter.html">
								<i class="align-middle" data-feather="activity"></i> <span class="align-middle">Meter</span>
							</a>
						</li>
						<li class="nav-item">
							<a class="nav-link" href="catalogs.html">
								<i class="align-middle" data-feather="package"></i> <span class="align-middle">Catalogs</span>
							</a>
						</li>
						<li class="nav-item">
							<a class="nav-link" href="datasets.html">
								<i class="align-middle" data-feather="inbox"></i> <span class="align-middle">Datasets</span>
							</a>
						</li>
					</ul>
				</div>
				<div class="navbar-collapse collapse">
					<ul class="navbar-nav">
						<li class="nav-item d-none d-sm-block" style="width:9.5rem;height:2.3rem;">
						</li>
					</ul>
				</div>
			</nav>

			<main class="content p-0">
				<div class="container-fluid p-0">

					<div class="row">
						<div class="col bg-white">
							<div class="w-100 text-muted">
								<h1 class="fs-3 m-0 p-3" style="overflow-x: scroll;white-space: nowrap;text-overflow: ellipsis;">The dissemination of open data</h1>
							</div>
						</div>
					</div>

					<div class="row">
						<div class="col bg-white">

							<div id='map' style='width:100vw;height:calc(100vh - 7rem - 3.55rem - 3.15rem);'></div>

						</div>
					</div>

				</div>
			</main>

			<footer class="footer">
				<div class="container-fluid">
					<div class="row text-muted">
						<div class="col-6 text-start">
							Made by Thomas Tursics
						</div>
						<div class="col-6 text-end">
							<ul class="list-inline">
								<li class="list-inline-item">
									<a class="text-muted" href="https://www.tursics.de/imprint" target="_blank">Imprint</a>
								</li>
							</ul>
						</div>
					</div>
				</div>
			</footer>
		</div>
	</div>

	<script src="assets/app.js"></script>
	<script>
		var map = new maplibregl.Map({
			center: [10, 51],
			container: 'map',
//			customAttribution: 'test',
//			hash: true,
			style: 'https://sgx.geodatenzentrum.de/gdz_basemapde_vektor/styles/bm_web_col.json',
			zoom: 5
		});
        var date = (new Date(Date.now())).toISOString().split('T')[0];
		var year = date.split('-')[0];
		var source = 'https://opendata.guru/govdata/assets/map-' + year + '/' + date + '-de.geojson';

		map.on('load', function () {
			map.addSource('gml', {
				'type': 'geojson',
				'data': source
			});
			map.addLayer({
				'id': 'gml-polygons',
				'type': 'fill',
				'source': 'gml',
				'paint': {
                    'fill-color': '#f00',
                    'fill-outline-color': '#800',
                    'fill-opacity': .25
				},
//				'filter': ['==', '$type', 'Polygon']
			});
		});
	</script>
</body>

</html>